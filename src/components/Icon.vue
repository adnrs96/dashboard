<template>
  <div @click="$emit('click')">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      :class="[
        classColor, 'fill-current',
        { 'animate-wheel': loading === true },
        { 'cursor-pointer': clickable }
      ]"
      :viewBox="`0 0 ${width} ${height}`"
      :height="height"
      :width="width"
      fill="none"
    >
      <path v-bind="path" />
    </svg>
  </div>
</template>

<script lang="ts">
import { Component, Prop, Vue } from 'vue-property-decorator'

@Component({
  name: 'SIcon'
})
export default class Icon extends Vue {
  @Prop({
    type: String,
    required: true,
    validator: x => ['github-o', 'gitlab-o', 'google-f', 'spinner'].includes(x)
  }) readonly icon!: string

  @Prop({
    type: String,
    default: undefined,
    validator: x => ['white', 'neutral', 'black'].includes(x)
  }) color!: string | undefined

  @Prop({
    type: Boolean,
    default: false
  }) readonly loading!: boolean

  @Prop({
    type: Boolean,
    default: false
  }) readonly clickable!: boolean

  private isActive (icon: string): boolean {
    return this.icon === icon
  }

  private get classColor (): string {
    return this.color === 'white' ? 'text-white' : this.color === 'black' ? 'text-black' : this.color === 'neutral' ? 'text-gray-50' : ''
  }

  private readonly icons = [{
    name: 'github-o',
    width: 19,
    height: 21,
    path: { d: 'm3.88298 16.6528c-.3-.2-.558-.455-.86-.816-.15676-.1919-.31209-.3849-.466-.579-.463-.575-.755-.84-1.057-.949-.2497-.0897-.45357-.2748-.566743-.5148-.113178-.2399-.1264-.515-.036757-.7647s.27481-.4536.51476-.5668c.23995-.1131.51504-.1264.76474-.0367.752.27 1.261.735 1.947 1.588-.094-.117.34.427.433.539.19.227.33.365.44.438.204.137.587.196 1.15.14.023-.382.094-.753.202-1.095-2.968-.726-4.648-2.64-4.648-6.39602 0-1.24.37-2.356 1.058-3.292-.218-.894-.185-1.975.302-3.192.05527-.13767.14047-.26131.24944-.361972.10896-.100663.23896-.175821.38056-.220029.081-.024.127-.035.208-.047.803-.123 1.937.17 3.415 1.096001.8808-.20592 1.78245-.30927 2.687-.308.91202 0 1.81802.104 2.68402.308 1.477-.933001 2.613-1.226001 3.422-1.096001.085.013.157.03.218.05.1388.045777.2659.121434.3723.221643.1065.100209.1896.222528.2437.358358.487 1.216.52 2.297.302 3.19.691.936 1.058 2.045 1.058 3.293 0 3.75702-1.674 5.66502-4.642 6.39202.125.415.19.879.19 1.38.0001.9053-.0039 1.8107-.012 2.716.2246.049.4254.1738.5687.3535.1433.1798.2203.4034.2181.6332-.0022.2299-.0836.4519-.2303.6288-.1468.1769-.35.2979-.5755.3425-1.139.228-1.983-.532-1.983-1.525l.002-.446.005-.705c.005-.708.007-1.338.007-1.998 0-.697-.183-1.152-.425-1.36-.661-.57-.326-1.655.54-1.752 2.967-.333 4.337-1.482 4.337-4.66002 0-.955-.312-1.744-.913-2.404-.1266-.13876-.2116-.31037-.2452-.49519s-.0145-.37536.0552-.54981c.166-.414.237-.957.096-1.614l-.01.003c-.491.139-1.11.44-1.858.949-.1206.08185-.2577.13635-.4016.15967s-.2911.0149-.4314-.02467c-.8441-.23371-1.7162-.35113-2.59202-.349-.89 0-1.772.119-2.592.35-.13978.03926-.28643.0476-.42977.02446-.14333-.02314-.2799-.07721-.40023-.15846-.752-.507-1.374-.807-1.868-.947-.144.653-.073 1.194.092 1.607.06981.17436.0891.36485.05568.54966-.03343.18481-.11822.35648-.24468.49534-.597.654-.913 1.458-.913 2.404 0 3.17202 1.371 4.32802 4.322 4.66002.865.097 1.201 1.177.544 1.748-.192.168-.429.732-.429 1.364v3.15c0 .986-.835 1.725-1.96 1.528-.22823-.0401-.43547-.1582-.58628-.3341-.15082-.1759-.23586-.3988-.24058-.6305-.00472-.2316.07116-.4578.21468-.6397s.34577-.3084.57218-.3577v-.99c-.91.061-1.662-.088-2.254-.485z' }
  }, {
    name: 'gitlab-o',
    width: 18,
    height: 17,
    path: {
      d: 'M3.73332 4.09523L2.21665 9.02357L8.99999 14.2019L15.7833 9.02357L14.2667 4.09523L12.8692 7.1669H5.12999L3.73415 4.09523H3.73332ZM11.7975 5.50023L14.2042 0.205233C14.2321 0.143505 14.2781 0.0917506 14.3362 0.0568651C14.3943 0.0219796 14.4616 0.00561916 14.5292 0.00996356C14.5968 0.014308 14.6615 0.0391509 14.7147 0.0811826C14.7678 0.123214 14.8069 0.180439 14.8267 0.245233L17.6325 9.36607C17.6575 9.44739 17.657 9.53443 17.6311 9.61547C17.6052 9.69652 17.555 9.76768 17.4875 9.8194L8.99999 16.2986L0.51332 9.8194C0.445755 9.76768 0.395643 9.69652 0.369721 9.61547C0.343799 9.53443 0.34331 9.44739 0.36832 9.36607L3.17415 0.245233C3.19394 0.180439 3.23301 0.123214 3.28615 0.0811826C3.33928 0.0391509 3.40396 0.014308 3.47157 0.00996356C3.53918 0.00561916 3.60651 0.0219796 3.66459 0.0568651C3.72266 0.0917506 3.76873 0.143505 3.79665 0.205233L6.20332 5.50023H11.7967H11.7975Z',
      fill: '#7B8794'
    }
  }, {
    name: 'google-f',
    width: 17,
    height: 18,
    path: {
      d: 'M1.55332 5.25817C2.24666 3.87754 3.3103 2.71693 4.62535 1.90606C5.9404 1.09519 7.45504 0.666018 8.99999 0.666504C11.2458 0.666504 13.1325 1.4915 14.575 2.83734L12.1858 5.22734C11.3217 4.4015 10.2233 3.98067 8.99999 3.98067C6.82916 3.98067 4.99166 5.44734 4.33749 7.41651C4.17082 7.91651 4.07582 8.44984 4.07582 8.99984C4.07582 9.54984 4.17082 10.0832 4.33749 10.5832C4.99249 12.5532 6.82916 14.019 8.99999 14.019C10.1208 14.019 11.075 13.7232 11.8217 13.2232C12.2545 12.9382 12.6251 12.5684 12.911 12.1361C13.1969 11.7038 13.3922 11.2181 13.485 10.7082H8.99999V7.48484H16.8483C16.9467 8.02984 17 8.59817 17 9.18901C17 11.7273 16.0917 13.864 14.515 15.314C13.1367 16.5873 11.25 17.3332 8.99999 17.3332C7.90552 17.3336 6.82169 17.1184 5.81044 16.6997C4.7992 16.2811 3.88037 15.6673 3.10646 14.8934C2.33255 14.1195 1.71874 13.2006 1.3001 12.1894C0.881468 11.1781 0.666219 10.0943 0.666657 8.99984C0.666657 7.65484 0.988324 6.38317 1.55332 5.25817Z',
      fill: '#7B8794'
    }
  }, {
    name: 'spinner',
    height: 20,
    width: 20,
    path: {
      d: 'M3.463 2.43301C5.27756 0.86067 7.59899 -0.00333986 10 9.70266e-06C15.523 9.70266e-06 20 4.47701 20 10C20 12.136 19.33 14.116 18.19 15.74L15 10H18C18.0001 8.43163 17.5392 6.89781 16.6747 5.58927C15.8101 4.28072 14.5799 3.25517 13.1372 2.64013C11.6944 2.0251 10.1027 1.84771 8.55996 2.13003C7.0172 2.41234 5.59145 3.14191 4.46 4.22801L3.463 2.43301ZM16.537 17.567C14.7224 19.1393 12.401 20.0034 10 20C4.477 20 0 15.523 0 10C0 7.86401 0.67 5.88401 1.81 4.26001L5 10H2C1.99987 11.5684 2.46075 13.1022 3.32534 14.4108C4.18992 15.7193 5.42007 16.7449 6.86282 17.3599C8.30557 17.9749 9.89729 18.1523 11.44 17.87C12.9828 17.5877 14.4085 16.8581 15.54 15.772L16.537 17.567Z',
      fill: this.color === 'white' ? 'white' : this.color === 'black' ? 'black' : '#52606D'
    }
  }]

  private get current () {
    return this.icons.find(i => i.name === this.icon) || { name: '', width: 0, height: 0, path: {} }
  }

  private get height () {
    return this.current.height
  }

  private get width () {
    return this.current.width
  }

  private get path () {
    return this.current.path
  }
}
</script>
